<!DOCTYPE html>
<html><head> <meta charset="UTF-8">
  <title>Students by Major</title>
  </head>
<body style='margin-left: 30px;'>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>
  
  <h1>Select a Major</h1>
  
  <input type="button" id='CITbtn' value="CIT Majors">
  <input type="button" id='BUSbtn' value="Business Majors">
  
  <div id="result"></div>
  
<script>
  
  document.addEventListener('DOMContentLoaded', function(){
  
  document.querySelector('#CITbtn').onclick = async function(){
  
   
  var response = await fetch('cit5students.json');
    console.log(response);
    if(response.ok){
      var data = await response.json();
      
     for(i=0; i<data.length; i++){
    var citStudents = data.filter( (student) => data.major == "CIT");
    
    }
      
      var tableContents = "<table cellspacing='5'>";
      tableContents += "<tr><td>Name</td><td>Major</td><td>Midterm</td><td>Final</td></tr>";
      
      for(i = 0; i < citStudents; i++){
        tableContents += `<tr><td> ${data[i].name} </td>
          <td> ${data[i].major}</td>
          <td> ${data[i].midterm}</td>
          <td> ${data[i].final}</td>`;
     
      }
      
      tableContents += "</table>";
      
      document.querySelector('#result').innerHTML = tableContents;
    }
    else{
    document.query('#result').innerHTML = "Data not found";
    }
  };
});
  </script>
